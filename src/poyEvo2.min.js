var pe={Evo:function(e,t,n,r,o,i,u){this.to=e,this.tp=t,this.rf=n,this.yf=r,this.bf=o,this.sf=i,this.stv=u,this.cbf=null,this.uid=++pe.conf.counter,this.cUB=this.stv&pe.state.CUB,this.cHB=this.stv&pe.state.cHB,this.iPe=this.stv&pe.state.iPE},conf:{refreshFunction:function(){pe.aux.timeTicker(30)},counter:0,listOfEvos:[]},compute:function(){var e;for(e=0;e<pe.conf.listOfEvos.length;++e){var t=pe.conf.listOfEvos[e],n=t.bf();0>n&&!t.cUB?pc.setAtribute(t.to,t.tp,t.yf(t.rf(0))):n>1&&!t.cHB?(pc.setAtribute(t.to,t.tp,t.yf(t.rf(1))),t.iPe||(pe.conf.listOfEvos.splice(e,1),null!==t.cbf&&t.cbf(),--e)):(n=t.sf(n),pc.setAtribute(t.to,t.tp,t.yf(t.rf(n))))}},state:{canUnderBound:parseInt("1",2),cUB:parseInt("1",2),canHoverBound:parseInt("10",2),cHB:parseInt("10",2),isPersitent:parseInt("100",2),iPE:parseInt("100",2),removeDoubles:parseInt("1000",2),rD:parseInt("1000",2)},range:{fixed:function(e,t){return function(n){return(1-n)*e+n*t}},dynamic:function(e,t){return function(n){return(1-n)*e()+n*t()}}},syntax:{prefix_suffix:function(e,t){return function(n){return e+""+n+t}},suffix:function(e){return pe.syntax.prefix_suffix("",e)},none:function(){return arguments[0]},grayscale:function(){return v=parseInt(arguments[0]),"rgb("+v+","+v+","+v+")"},bgPosition:function(e,t,n){return function(r){""===e.style.backgroundPosition&&(e.style.backgroundPosition="center center");var o=e.style.backgroundPosition.split(" ");return"x"==t?r+n+" "+o[1]:o[0]+" "+r+n}}},shape:{linear:function(){return arguments[0]},sin:function(){var e=arguments[0];return e+Math.sin(2*Math.PI*e-Math.PI)/(2*Math.PI)},asin:function(){var e=arguments[0];return e+Math.sin(2*Math.PI*e)/(2*Math.PI)},ela:function(){var e=arguments[0];return Math.sqrt(e)+(1-e)*Math.sin(4*e*Math.PI/3)},pow:function(e){return function(t){return Math.pow(t,e)}},apow:function(e){return function(t){return 1-Math.pow(1-t,e)}},step:function(e,t){return function(n){return n=e(n),n=parseInt(n*t)/t}}},bind:{time:function(e,t){var n=new Date;n=n.getTime();var r=n+e,o=r+t;return function(){var e=new Date;return e=e.getTime(),(e-r)/(o-r)}},rotativeTime:function(e,t,n){var r=2*(e+t);return function(){var o=new Date;return o=o.getTime()+n,o%=r,o=Math.abs(o-r/2)-e/2,o/t}},stepTime:function(e,t){var n=e*t;return function(){var t=new Date;return t=t.getTime()%n,t=parseInt(t/n*e),t/e}},randTime:function(e){var n,t=0;return function(){return 1>t&&(t=e,n=Math.random()),--t,n}},mouse:function(e,t){return pc.trackMouse(),void 0===t?pe.bind.property(pc.mouse,e,"x"==e?pc.wWidth:pc.wHeight):pe.bind.lazyProperty(pc.mouse,e,"x"==e?pc.wWidth:pc.wHeight,t)},scrollBar:function(e,t,n){var o,r="x"==t?"scrollLeft":"scrollTop",i=document.body,u=document.documentElement;return e==i||e==u?(window.scrollBy(1,1),e=u&&u.scrollTop?u:i,window.scrollBy(-1,-1),o="x"==t?function(){return e.scrollWidth-pc.wWidth()}:function(){return e.scrollHeight-pc.wHeight()}):o="x"==t?function(){return e.scrollWidth-e.offsetWidth}:function(){return e.scrollHeight-e.offsetHeight},void 0===n?pe.bind.property(e,r,o):pe.bind.lazyProperty(e,r,o,n)},property:function(e,t,n){return function(){return pc.getAtribute(e,t)/n()}},lazyProperty:function(e,t,n,r){var o=pc.getAtribute(e,t);return function(){return o=(1-r)*o+r*pc.getAtribute(e,t),o/n()}}},overLay:{expand:function(e,t){return function(){var n=e();return n-=t.low,n/=t.high-t.low}}},delEvo:function(e){if(e instanceof Array)for(var t=0;t<e.length;++t)pe.delEvo(e[t]);else{var n=pe.aux.searchEvo(e);null!==n&&pe.conf.listOfEvos.splice(n,1)}},addEvo:{cpl:function(e,t,n,r,o,i,u){if(void 0===u&&(u=0),void 0===i&&(i=pe.shape.linear),e instanceof Array||e instanceof NodeList){for(var s=[],a=0;a<e.length;++a)s.push(pe.addEvo.cpl(e[a],t,n,r,o,i,u));return s}u&pe.state.rD&&pe.aux.deleteConflictualEvo(e,t);var p=new pe.Evo(e,t,n,r,o,i,u);return pe.conf.listOfEvos.push(p),p.uid},std:function(e,t,n,r,o,i,u,s){return pe.addEvo.cpl(e,t,pe.range.fixed(n,r),o,i,u,s)},ani:function(e,t,n,r,o,i,u,s,a){var p=a?pe.state.rD:0;return pe.addEvo.cpl(e,t,pe.range.fixed(n,r),o,pe.bind.time(i,u),s,p)},sprite:function(e,t,n,r,o,i){if(e instanceof Array||e instanceof NodeList)for(var u=0;u<e.length;++u)e[u].style.backgroundImage="url('"+t+"')";else e.style.backgroundImage="url('"+t+"')";var s=i?pe.state.rD:0;return s|=pe.state.iPE,pe.addEvo.cpl(e,"style.backgroundPosition",pe.range.fixed(0,n*r),pe.syntax.suffix("px 0px"),pe.bind.stepTime(n,o),pe.shape.linear,s)},dragDrop:function(e,t){var n=pe.state.iPE;n|=pe.state.cUB,n|=pe.state.cHB,n|=pe.state.rD;var r=pc.getAbsPos(e.parentNode);if(pc.mouse.trackerStarted){var o=pc.getAbsPos(e);r.x+=pc.mouse.x-o.x,r.y+=pc.mouse.y-o.y}else{var i=pc.getInnerDim(e);r.x+=i.w/2,r.y+=i.h/2}var u=pe.addEvo.cpl(e,"style.left",pe.range.dynamic(function(){return-r.x},function(){return pc.wWidth()-r.x}),pe.syntax.suffix("px"),pe.bind.mouse("x",.2),pe.shape.linear,!0,!0,!0,!0),s=pe.addEvo.cpl(e,"style.top",pe.range.dynamic(function(){return-r.y},function(){return pc.wHeight()-r.y}),pe.syntax.suffix("px"),pe.bind.mouse("y",.2),pe.shape.linear,!0,!0,!0,!0),a=e.style.cursor;e.style.cursor="move";var p=function(){return!1},c=function(){return!0},f=function(){pe.delEvo(u),pe.delEvo(s),document.removeEventListener("mouseup",f),document.onselectstart=c,document.onmousedown=c,e.style.cursor=a,void 0!==t&&t()};return document.addEventListener("mouseup",f),document.onselectstart=p,document.onmousedown=p,!1},bgEffect:function(e,t){var n={low:0,high:100};0>t&&(t=-t,n={low:100,high:0});var r=pc.getAbsPos(e),o=document.body.offsetHeight-pc.wHeight(),i=pc.wHeight()/o,u={low:r.y/o,high:(r.y+e.offsetHeight-i)/o};u.low-=i,pe.addEvo.std(e,"style.background-position",n.low,n.high,pe.syntax.bgPosition(e,"y","%"),pe.overLay.expand(pe.bind.scrollBar(document.body,"y",t),u),pe.shape.linear,pe.state.iPE|pe.state.rD)},fadeIn:function(e,t,n){e.style.opacity=0,e.style.display="",pe.addEvo.ani(e,"style.opacity",0,1,pe.syntax.none,0,t,n)},fadeOut:function(e,t,n){var r=pe.addEvo.ani(e,"style.opacity",1,0,pe.syntax.none,0,t,n);pe.setEvo.callBack(r,function(){e.style.display="none"})}},setEvo:{callBack:function(e,t){var n=pe.aux.searchEvo(e);null!==n&&(pe.conf.listOfEvos[n].cbf=t)}},aux:{searchEvo:function(e){for(var t=0;t<pe.conf.listOfEvos.length&&pe.conf.listOfEvos[t].uid!=e;++t);return pe.conf.listOfEvos[t].uid==e?t:null},deleteConflictualEvo:function(e,t){for(var n=pe.conf.listOfEvos.length-1;n>=0;--n)e==pe.conf.listOfEvos[n].to&&t==pe.conf.listOfEvos[n].tp&&pe.conf.listOfEvos.splice(n,1)},timeTicker:function(e){pe.compute(),setTimeout(pe.conf.refreshFunction,e)}}};pe.conf.refreshFunction();