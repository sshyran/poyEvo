var pe={Evo:function(e,t,n,o,r,i,s){this.to=e,this.tp=t,this.rf=n,this.yf=o,this.bf=r,this.sf=i,this.stv=s,this.cbf=null,this.uid=++pe.conf.counter,this.cUB=this.stv&pe.state.CUB,this.cHB=this.stv&pe.state.cHB,this.iPe=this.stv&pe.state.iPE},conf:{refreshFunction:function(){pe.aux.timeTicker(30)},counter:0,listOfEvos:[]},compute:function(){var e;for(e=0;e<pe.conf.listOfEvos.length;++e){var t=pe.conf.listOfEvos[e],n=t.bf();0>n&&!t.cUB?poyoCore_setAtribute(t.to,t.tp,t.yf(t.rf(0))):n>1&&!t.cHB?(poyoCore_setAtribute(t.to,t.tp,t.yf(t.rf(1))),t.iPe||(pe.conf.listOfEvos.splice(e,1),null!==t.cbf&&t.cbf(),--e)):(n=t.sf(n),poyoCore_setAtribute(t.to,t.tp,t.yf(t.rf(n))))}},state:{canUnderBound:parseInt("1",2),cUB:parseInt("1",2),canHoverBound:parseInt("10",2),cHB:parseInt("10",2),isPersitent:parseInt("100",2),iPE:parseInt("100",2),removeDoubles:parseInt("1000",2),rD:parseInt("1000",2)},range:{fixed:function(e,t){return function(n){return(1-n)*e+n*t}},dynamic:function(e,t){return function(n){return(1-n)*e()+n*t()}}},syntax:{prefix_suffix:function(e,t){return function(n){return e+""+n+t}},suffix:function(e){return pe.syntax.prefix_suffix("",e)},none:function(){return arguments[0]},grayscale:function(){return v=parseInt(arguments[0]),"rgb("+v+","+v+","+v+")"},bgPosition:function(e,t,n){return function(o){""===e.style.backgroundPosition&&(e.style.backgroundPosition="center center");var r=e.style.backgroundPosition.split(" ");return"x"==t?o+n+" "+r[1]:r[0]+" "+o+n}}},shape:{linear:function(){return arguments[0]},sin:function(){var e=arguments[0];return e+Math.sin(2*Math.PI*e-Math.PI)/(2*Math.PI)},asin:function(){var e=arguments[0];return e+Math.sin(2*Math.PI*e)/(2*Math.PI)},ela:function(){var e=arguments[0];return Math.sqrt(e)+(1-e)*Math.sin(4*e*Math.PI/3)},pow:function(e){return function(t){return Math.pow(t,e)}},apow:function(e){return function(t){return 1-Math.pow(1-t,e)}},step:function(e,t){return function(n){return n=e(n),n=parseInt(n*t)/t}}},bind:{time:function(e,t){var n=new Date;n=n.getTime();var o=n+e,r=o+t;return function(){var e=new Date;return e=e.getTime(),(e-o)/(r-o)}},rotativeTime:function(e,t,n){var o=2*(e+t);return function(){var r=new Date;return r=r.getTime()+n,r%=o,r=Math.abs(r-o/2)-e/2,r/t}},stepTime:function(e,t){var n=e*t;return function(){var t=new Date;return t=t.getTime()%n,t=parseInt(t/n*e),t/e}},randTime:function(e){var n,t=0;return function(){return 1>t&&(t=e,n=Math.random()),--t,n}},mouse:function(e,t){return poyoCore_trackMouse(),void 0===t?pe.bind.property(poyoCore_mouse,e,"x"==e?poyoCore_wWidth:poyoCore_wHeight):pe.bind.lazyProperty(poyoCore_mouse,e,"x"==e?poyoCore_wWidth:poyoCore_wHeight,t)},scrollBar:function(e,t,n){var r,o="x"==t?"scrollLeft":"scrollTop",i=document.body,s=document.documentElement;return e==i||e==s?(window.scrollBy(1,1),e=s&&s.scrollTop?s:i,window.scrollBy(-1,-1),r="x"==t?function(){return e.scrollWidth-poyoCore_wWidth()}:function(){return e.scrollHeight-poyoCore_wHeight()}):r="x"==t?function(){return e.scrollWidth-e.offsetWidth}:function(){return e.scrollHeight-e.offsetHeight},void 0===n?pe.bind.property(e,o,r):pe.bind.lazyProperty(e,o,r,n)},property:function(e,t,n){return function(){return poyoCore_getAtribute(e,t)/n()}},lazyProperty:function(e,t,n,o){var r=poyoCore_getAtribute(e,t);return function(){return r=(1-o)*r+o*poyoCore_getAtribute(e,t),r/n()}}},overLay:{expand:function(e,t){return function(){var n=e();return n-=t.low,n/=t.high-t.low}}},delEvo:function(e){if(e instanceof Array)for(var t=0;t<e.length;++t)pe.delEvo(e[t]);else{var n=pe.aux.searchEvo(e);null!==n&&pe.conf.listOfEvos.splice(n,1)}},addEvo:{cpl:function(e,t,n,o,r,i,s){if(void 0===s&&(s=0),void 0===i&&(i=pe.shape.linear),e instanceof Array||e instanceof NodeList){for(var u=[],a=0;a<e.length;++a)u.push(pe.addEvo.cpl(e[a],t,n,o,r,i,s));return u}s&pe.state.rD&&pe.aux.deleteConflictualEvo(e,t);var f=new pe.Evo(e,t,n,o,r,i,s);return pe.conf.listOfEvos.push(f),f.uid},std:function(e,t,n,o,r,i,s,u){return pe.addEvo.cpl(e,t,pe.range.fixed(n,o),r,i,s,u)},ani:function(e,t,n,o,r,i,s,u,a){var f=a?pe.state.rD:0;return pe.addEvo.cpl(e,t,pe.range.fixed(n,o),r,pe.bind.time(i,s),u,f)},sprite:function(e,t,n,o,r,i){if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;++s)e[s].style.backgroundImage="url('"+t+"')";else e.style.backgroundImage="url('"+t+"')";var u=i?pe.state.rD:0;return u|=pe.state.iPE,pe.addEvo.cpl(e,"style.backgroundPosition",pe.range.fixed(0,n*o),pe.syntax.suffix("px 0px"),pe.bind.stepTime(n,r),pe.shape.linear,u)},dragDrop:function(e,t){var n=pe.state.iPE;n|=pe.state.cUB,n|=pe.state.cHB,n|=pe.state.rD;var o=poyoCore_getAbsPos(e.parentNode);if(poyoCore_mouse.trackerStarted){var r=poyoCore_getAbsPos(e);o.x+=poyoCore_mouse.x-r.x,o.y+=poyoCore_mouse.y-r.y}else{var i=poyoCore_getInnerDim(e);o.x+=i.w/2,o.y+=i.h/2}var s=pe.addEvo.cpl(e,"style.left",pe.range.dynamic(function(){return-o.x},function(){return poyoCore_wWidth()-o.x}),pe.syntax.suffix("px"),pe.bind.mouse("x",.2),pe.shape.linear,!0,!0,!0,!0),u=pe.addEvo.cpl(e,"style.top",pe.range.dynamic(function(){return-o.y},function(){return poyoCore_wHeight()-o.y}),pe.syntax.suffix("px"),pe.bind.mouse("y",.2),pe.shape.linear,!0,!0,!0,!0),a=e.style.cursor;e.style.cursor="move";var f=function(){return!1},p=function(){return!0},c=function(){pe.delEvo(s),pe.delEvo(u),document.removeEventListener("mouseup",c),document.onselectstart=p,document.onmousedown=p,e.style.cursor=a,void 0!==t&&t()};return document.addEventListener("mouseup",c),document.onselectstart=f,document.onmousedown=f,!1},bgEffect:function(e,t){var n={low:0,high:100};0>t&&(t=-t,n={low:100,high:0});var o=poyoCore_getAbsPos(e),r=document.body.offsetHeight-poyoCore_wHeight(),i=poyoCore_wHeight()/r,s={low:o.y/r,high:(o.y+e.offsetHeight-i)/r};s.low-=i,pe.addEvo.std(e,"style.background-position",n.low,n.high,pe.syntax.bgPosition(gebid("img"),"y","%"),pe.overLay.expand(pe.bind.scrollBar(document.body,"y",t),s),pe.shape.linear,pe.state.iPE|pe.state.rD)},fadeIn:function(e,t,n){e.style.opacity=0,e.style.display="",pe.addEvo.ani(e,"style.opacity",0,1,pe.syntax.none,0,t,n)},fadeOut:function(e,t,n){var o=pe.addEvo.ani(e,"style.opacity",1,0,pe.syntax.none,0,t,n);pe.setEvo.callBack(o,function(){e.style.display="none"})}},setEvo:{callBack:function(e,t){var n=pe.aux.searchEvo(e);null!==n&&(pe.conf.listOfEvos[n].cbf=t)}},aux:{searchEvo:function(e){for(var t=0;t<pe.conf.listOfEvos.length&&pe.conf.listOfEvos[t].uid!=e;++t);return pe.conf.listOfEvos[t].uid==e?t:null},deleteConflictualEvo:function(e,t){for(var n=pe.conf.listOfEvos.length-1;n>=0;--n)e==pe.conf.listOfEvos[n].to&&t==pe.conf.listOfEvos[n].tp&&pe.conf.listOfEvos.splice(n,1)},timeTicker:function(e){pe.compute(),setTimeout(pe.conf.refreshFunction,e)}}};pe.conf.refreshFunction();