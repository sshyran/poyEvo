var pe={Evo:function(e,t,n,r,o,i,s){this.to=e,this.ap=t.fct,this.rf=n,this.yf=r,this.bf=o,this.sf=i,this.stv=s,this.cbf=null,this.uid=++pe.conf.counter,this.hdb=t.id,this.cUB=this.stv&pe.state.CUB,this.cHB=this.stv&pe.state.cHB,this.iPe=this.stv&pe.state.iPE},conf:{refreshFunction:function(){pe.aux.timeTicker(30)},counter:0,listOfEvos:[]},compute:function(){var e;for(e=0;e<pe.conf.listOfEvos.length;++e){var t=pe.conf.listOfEvos[e],n=t.bf();0>n&&!t.cUB?t.ap(t.yf(t.rf(0))):n>1&&!t.cHB?(t.ap(t.yf(t.rf(1))),t.iPe||(pe.conf.listOfEvos.splice(e,1),null!==t.cbf&&t.cbf(),--e)):(n=t.yf(t.rf(t.sf(n))),t.ap(n))}},state:{canUnderBound:parseInt("1",2),cUB:parseInt("1",2),canHoverBound:parseInt("10",2),cHB:parseInt("10",2),isPersitent:parseInt("100",2),iPE:parseInt("100",2),removeDoubles:parseInt("1000",2),rD:parseInt("1000",2)},range:{fixed:function(e,t){return function(n){return(1-n)*e+n*t}},dynamic:function(e,t){return function(n){return(1-n)*e()+n*t()}}},applier:{property:function(e){return{id:pe.aux.callHash("property",arguments),fct:function(){var t=arguments[0];pc.setAtribute(this.to,e,t)}}},scrolTo:function(e){return{id:callHash("property",arguments),fct:function(){var t=arguments[0];"x"==e?this.to.scrollTo(0,t):this.to.scrollTo(t,0)}}}},syntax:{prefix_suffix:function(e,t){return function(n){return e+""+n+t}},suffix:function(e){return pe.syntax.prefix_suffix("",e)},none:function(){return arguments[0]},grayscale:function(){return v=parseInt(arguments[0]),"rgb("+v+","+v+","+v+")"},bgPosition:function(e,t,n){return function(r){""===e.style.backgroundPosition&&(e.style.backgroundPosition="center center");var o=e.style.backgroundPosition.split(" ");return"x"==t?r+n+" "+o[1]:o[0]+" "+r+n}}},shape:{linear:function(){return arguments[0]},sin:function(){var e=arguments[0];return e+Math.sin(2*Math.PI*e-Math.PI)/(2*Math.PI)},asin:function(){var e=arguments[0];return e+Math.sin(2*Math.PI*e)/(2*Math.PI)},ela:function(){var e=arguments[0];return Math.sqrt(e)+(1-e)*Math.sin(4*e*Math.PI/3)},pow:function(e){return function(t){return Math.pow(t,e)}},apow:function(e){return function(t){return 1-Math.pow(1-t,e)}},step:function(e,t){return function(n){return n=e(n),n=parseInt(n*t)/t}}},bind:{time:function(e,t){var n=new Date;n=n.getTime();var r=n+e,o=r+t;return function(){var e=new Date;return e=e.getTime(),(e-r)/(o-r)}},rotativeTime:function(e,t,n){var r=2*(e+t);return function(){var o=new Date;return o=o.getTime()+n,o%=r,o=Math.abs(o-r/2)-e/2,o/t}},stepTime:function(e,t){var n=e*t;return function(){var t=new Date;return t=t.getTime()%n,t=parseInt(t/n*e),t/e}},randTime:function(e){var n,t=0;return function(){return 1>t&&(t=e,n=Math.random()),--t,n}},mouse:function(e,t){return pc.trackMouse(),void 0===t?pe.bind.property(pc.mouse,e,"x"==e?pc.wWidth:pc.wHeight):pe.bind.lazyProperty(pc.mouse,e,"x"==e?pc.wWidth:pc.wHeight,t)},scrollBar:function(e,t,n){var o,r="x"==t?"scrollLeft":"scrollTop",i=document.body,s=document.documentElement;return e==i||e==s?(window.scrollBy(1,1),e=s&&s.scrollTop?s:i,window.scrollBy(-1,-1),o="x"==t?function(){return e.scrollWidth-pc.wWidth()}:function(){return e.scrollHeight-pc.wHeight()}):o="x"==t?function(){return e.scrollWidth-e.offsetWidth}:function(){return e.scrollHeight-e.offsetHeight},void 0===n?pe.bind.property(e,r,o):pe.bind.lazyProperty(e,r,o,n)},property:function(e,t,n){return function(){return pc.getAtribute(e,t)/n()}},lazyProperty:function(e,t,n,r){var o=pc.getAtribute(e,t);return function(){return o=(1-r)*o+r*pc.getAtribute(e,t),o/n()}}},overLay:{expand:function(e,t){return function(){var n=e();return n-=t.low,n/=t.high-t.low}}},delEvo:function(e){if(e instanceof Array)for(var t=0;t<e.length;++t)pe.delEvo(e[t]);else{var n=pe.aux.searchEvo(e);null!==n&&pe.conf.listOfEvos.splice(n,1)}},addEvo:{applier:function(e,t,n,r,o,i,s){if(void 0===s&&(s=0),void 0===i&&(i=pe.shape.linear),e instanceof Array||e instanceof NodeList){for(var a=[],u=0;u<e.length;++u)a.push(pe.addEvo.applier(e[u],t,n,r,o,i,s));return a}s&pe.state.rD&&pe.aux.deleteConflictualEvo(e,t);var c=new pe.Evo(e,t,n,r,o,i,s);return pe.conf.listOfEvos.push(c),c.uid},cpl:function(e,t,n,r,o,i,s){return pe.addEvo.applier(e,pe.applier.property(t),n,r,o,i,s)},std:function(e,t,n,r,o,i,s,a){return pe.addEvo.cpl(e,t,pe.range.fixed(n,r),o,i,s,a)},ani:function(e,t,n,r,o,i,s,a,u){var c=u?pe.state.rD:0;return pe.addEvo.cpl(e,t,pe.range.fixed(n,r),o,pe.bind.time(i,s),a,c)},sprite:function(e,t,n,r,o,i){if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;++s)e[s].style.backgroundImage="url('"+t+"')";else e.style.backgroundImage="url('"+t+"')";var a=i?pe.state.rD:0;return a|=pe.state.iPE,pe.addEvo.cpl(e,"style.backgroundPosition",pe.range.fixed(0,n*r),pe.syntax.suffix("px 0px"),pe.bind.stepTime(n,o),pe.shape.linear,a)},dragDrop:function(e,t){var n=pe.state.iPE;n|=pe.state.cUB,n|=pe.state.cHB,n|=pe.state.rD;var r=pc.getAbsPos(e.parentNode);if(pc.mouse.trackerStarted){var o=pc.getAbsPos(e);r.x+=pc.mouse.x-o.x,r.y+=pc.mouse.y-o.y}else{var i=pc.getInnerDim(e);r.x+=i.w/2,r.y+=i.h/2}var s=pe.addEvo.cpl(e,"style.left",pe.range.dynamic(function(){return-r.x},function(){return pc.wWidth()-r.x}),pe.syntax.suffix("px"),pe.bind.mouse("x",.2),pe.shape.linear,!0,!0,!0,!0),a=pe.addEvo.cpl(e,"style.top",pe.range.dynamic(function(){return-r.y},function(){return pc.wHeight()-r.y}),pe.syntax.suffix("px"),pe.bind.mouse("y",.2),pe.shape.linear,!0,!0,!0,!0),u=e.style.cursor;e.style.cursor="move";var c=function(){return!1},f=function(){return!0},p=function(){pe.delEvo(s),pe.delEvo(a),document.removeEventListener("mouseup",p),document.onselectstart=f,document.onmousedown=f,e.style.cursor=u,void 0!==t&&t()};return document.addEventListener("mouseup",p),document.onselectstart=c,document.onmousedown=c,!1},bgEffect:function(e,t){var n={low:0,high:100};0>t&&(t=-t,n={low:100,high:0});var r=pc.getAbsPos(e),o=document.body.offsetHeight-pc.wHeight(),i=pc.wHeight()/o,s={low:r.y/o,high:(r.y+e.offsetHeight-i)/o};s.low-=i,pe.addEvo.std(e,"style.background-position",n.low,n.high,pe.syntax.bgPosition(e,"y","%"),pe.overLay.expand(pe.bind.scrollBar(document.body,"y",t),s),pe.shape.linear,pe.state.iPE|pe.state.rD)},fadeIn:function(e,t,n){e.style.opacity=0,e.style.display="",pe.addEvo.ani(e,"style.opacity",0,1,pe.syntax.none,0,t,n)},fadeOut:function(e,t,n){var r=pe.addEvo.ani(e,"style.opacity",1,0,pe.syntax.none,0,t,n);pe.setEvo.callBack(r,function(){e.style.display="none"})}},setEvo:{callBack:function(e,t){var n=pe.aux.searchEvo(e);null!==n&&(pe.conf.listOfEvos[n].cbf=t)}},aux:{searchEvo:function(e){for(var t=0;t<pe.conf.listOfEvos.length&&pe.conf.listOfEvos[t].uid!=e;++t);return pe.conf.listOfEvos[t].uid==e?t:null},deleteConflictualEvo:function(e,t){for(var n=pe.conf.listOfEvos.length-1;n>=0;--n)e==pe.conf.listOfEvos[n].to&&t.id==pe.conf.listOfEvos[n].hdb&&pe.conf.listOfEvos.splice(n,1)},callHash:function(e,t){var n=[].slice.call(t);return e+":"+n.join("-")},timeTicker:function(e){pe.compute(),setTimeout(pe.conf.refreshFunction,e)}}};pe.conf.refreshFunction();